from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
import time

# Set up the web driver (make sure to have the driver for your browser installed)
# For example, if you're using Chrome:
driver = webdriver.Chrome()
# Replace 'url' with the actual URL you want to open
url = 'http://pwnable.kr/play.php'
# Open the URL
driver.get(url)
# Wait for the page to load
WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.TAG_NAME, "body")))
time.sleep(1)
# Find all figures (adjust the selector as needed)
figures = driver.find_elements(By.CSS_SELECTOR, "figure")

time.sleep(1)
# Loop through figures and click each one
for index, figure in enumerate(figures, start=1):
    element_to_click = WebDriverWait(driver, 10).until(
        EC.element_to_be_clickable((By.ID, "rcorner"))
    )

    # Click the element
    element_to_click.click()
    time.sleep(1)
    
    # Find the textarena div within the layerPop div and get its text
    textarea_xpath = "//textarea[@style='font-family:arial; width:500px; height:275px;']"
    textarea_element = driver.find_element(By.XPATH, textarea_xpath)
    # Do something with the textarea element, e.g., print its 'readonly' attribute
    print(textarea_element.get_attribute('readonly'))

# Close the browser when done
driver.quit()

